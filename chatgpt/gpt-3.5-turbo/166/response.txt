# Response Time: 9.156482458114624
```
// Code before refactoring
byte ttl = (byte) 64;
DatagramPacket packet = new DatagramPacket(data, data.length, group, port);
multicastSocket.send(packet, ttl);

// Code after refactoring
byte ttl = (byte) 64;
int currentTTL = multicastSocket.getTimeToLive();
multicastSocket.setTimeToLive(ttl);
DatagramPacket packet = new DatagramPacket(data, data.length, group, port);
multicastSocket.send(packet);
multicastSocket.setTimeToLive(currentTTL);
```