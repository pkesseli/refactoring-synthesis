# Response Time: 13.595250368118286
```
// Code before refactoring
GSSContext context = ...;
InputStream in = ...;
OutputStream out = ...;
MessageProp prop = ...;
byte[] buffer = new byte[1024];
int bytesRead;
while ((bytesRead = in.read(buffer)) != -1) {
    byte[] token = context.getMIC(buffer, 0, bytesRead, prop);
    out.write(token);
}

// Code after refactoring
GSSContext context = ...;
InputStream in = ...;
OutputStream out = ...;
MessageProp prop = ...;
byte[] buffer = new byte[1024];
int bytesRead;
while ((bytesRead = in.read(buffer)) != -1) {
    byte[] token = context.getMIC(buffer, 0, bytesRead, prop);
    out.write(token, 0, token.length);
}
```