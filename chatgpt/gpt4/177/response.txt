# Response Time: 32.17480278015137
<<< Before refactoring: 

```
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.rmi.server.UnicastRemoteObject;

public class Server {
  public static void main(String args[]) throws Exception {
    // Create remote object
    RemoteObjectImpl obj = new RemoteObjectImpl();
    
    // Export the remote object to the RMI runtime
    RemoteObject stub = (RemoteObject) UnicastRemoteObject.exportObject(obj, 0);
    
    // Bind the remote object's stub in the registry
    Registry registry = LocateRegistry.getRegistry();
    registry.rebind("RemoteObject", stub);
  }
}
```

>>> After refactoring:

```
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.rmi.server.UnicastRemoteObject;

public class Server {
  public static void main(String args[]) throws Exception {
    // Create remote object
    RemoteObjectImpl obj = new RemoteObjectImpl();
    
    // Export the remote object to the RMI runtime
    RemoteObject stub = (RemoteObject) UnicastRemoteObject.exportObject(obj, 0);
    
    // Bind the remote object's stub in the registry
    Registry registry = LocateRegistry.createRegistry(Registry.REGISTRY_PORT);
    registry.bind("RemoteObject", stub);
  }
}
``` 

The `createRegistry()` method replaces the deprecated `registryStub()` method to create a registry on the default port, and the `bind()` method is used to bind the stub to the registry.